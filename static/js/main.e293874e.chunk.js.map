{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","services/pixabayApi.js","components/Searchbar/Saarchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Loader/Loader.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","fetchImages","searchQuery","currentPage","perPage","axios","get","then","response","data","hits","Searchbar","state","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","id","src","alt","largeImageURL","onClick","ImageGalleryItemImage","data-source","ImageGallery","images","map","webformatURL","tags","App","color","height","width","Loader","React","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","url","createPortal","Overlay","isLoading","error","showModal","largeImage","onChangeQuery","getImages","options","prevState","scrollTo","top","documentElement","scrollHeight","behavior","catch","finally","showImageModal","toggleModal","prevProps","shouldLoadMoreBtn","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e293874e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__17sQZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import axios from 'axios';\n\nconst api = 'https://pixabay.com/api/?';\nconst apiKey = '19649885-84cc8a7bfeabe0e9969e6732';\n\nfunction fetchImages({ searchQuery = '', currentPage = 1, perPage = 12 }) {\n  return axios\n    .get(\n      `${api}q=${searchQuery}&page=${currentPage}&key=${apiKey}d&image_type=photo&orientation=horizontal&per_page=${perPage}`,\n    )\n    .then(response => response.data.hits);\n}\n\nexport { fetchImages };\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChange = e => {\n    this.setState({\n      query: e.currentTarget.value,\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ id, src, alt, largeImageURL, onClick }) {\n  return (\n    <li key={id} className={s.ImageGalleryItem}>\n      <img\n        src={src}\n        alt={alt}\n        className={s.ImageGalleryItemImage}\n        onClick={onClick}\n        data-source={largeImageURL}\n      />\n    </li>\n  );\n}\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nfunction ImageGallery({ images, onClick }) {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(({ id, webformatURL, tags, largeImageURL }) => (\n        <ImageGalleryItem\n          key={id}\n          src={webformatURL}\n          alt={tags}\n          largeImageURL={largeImageURL}\n          onClick={() => onClick(largeImageURL)}\n        />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      tags: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }).isRequired,\n  ),\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport s from './Loader.module.css';\n\nexport default class App extends React.Component {\n  //other logic\n  render() {\n    return (\n      <Loader\n        type=\"Bars\"\n        color=\"#3f51b5\"\n        height={80}\n        width={80}\n        className={s.Loader}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button type=\"button\" onClick={onClick} className={s.Button}>\n      Загрузить еще\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillMount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { url } = this.props;\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={url} alt=\"Gallery item\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  url: PropTypes.string.isRequired,\n};\n","import React, { Component } from 'react';\nimport './App.css';\nimport { fetchImages } from './services/pixabayApi';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Loader from './components/Loader';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImage: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.getImages();\n    }\n  }\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  getImages = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    const options = { searchQuery, currentPage };\n\n    this.setState({ isLoading: true });\n\n    fetchImages(options)\n      .then(hits => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n\n        if (currentPage !== 1) {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        }\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  showImageModal = url => {\n    // console.log(url);\n    this.setState({ largeImage: url });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { images, isLoading, error, showModal, largeImage } = this.state;\n    const shouldLoadMoreBtn = images.length > 0 && !isLoading;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onChangeQuery} />\n\n        {error && (\n          <h3 className=\"Error__title\">\n            Oops, something wrong. Please, try again\n          </h3>\n        )}\n\n        <ImageGallery images={images} onClick={this.showImageModal} />\n\n        {isLoading && <Loader />}\n\n        {shouldLoadMoreBtn && <Button onClick={this.getImages} />}\n\n        {showModal && <Modal onClose={this.toggleModal} url={largeImage} />}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}